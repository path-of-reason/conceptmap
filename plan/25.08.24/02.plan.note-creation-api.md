### κ³„ν: λ…ΈνΈ μƒμ„±μ„ μ„ν• λ°±μ—”λ“ API κµ¬ν„

**λ©ν‘**: ν”„λ°νΈμ—”λ“μ—μ„ μ‚¬μ©μκ°€ μƒ λ…ΈνΈλ¥Ό μ‘μ„±ν•κ³  μ €μ¥ν•  λ•, μ΄λ¥Ό μ²λ¦¬ν•λ” λ°±μ—”λ“ Tauri μ»¤λ§¨λ“λ¥Ό κµ¬ν„ν•©λ‹λ‹¤. μ΄ μ»¤λ§¨λ“λ” λ…ΈνΈ λ°μ΄ν„°λ¥Ό λ°›μ•„ λ§ν¬λ‹¤μ΄ νμΌμ„ μƒμ„±ν•κ³ , KuzuDBμ— λ…Έλ“μ™€ κ΄€κ³„λ¥Ό μ €μ¥ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.

- [x] **1. `create_note` Tauri μ»¤λ§¨λ“ μ •μ**
    - [x] `src-tauri/src/db/commands.rs` (λλ” μƒ νμΌ)μ— `create_note`λΌλ” `#[tauri::command]`λ¥Ό μ¶”κ°€ν•©λ‹λ‹¤.
    - [x] μ΄ μ»¤λ§¨λ“λ” ν”„λ°νΈμ—”λ“λ΅λ¶€ν„° `title: String`, `content: String`, `parent_uuid: Option<String>`λ¥Ό μΈμλ΅ λ°›μµλ‹λ‹¤.

- [x] **2. λ…ΈνΈ λ°μ΄ν„° μƒμ„± λ° νμΌ μ €μ¥ λ΅μ§**
    - [x] `create_note` μ»¤λ§¨λ“ λ‚΄μ—μ„ `Note` κ°μ²΄λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
    - [x] `uuid::Uuid::new_v4()`λ΅ κ³ μ  IDλ¥Ό, `chrono::Utc::now()`λ΅ νƒ€μ„μ¤νƒ¬ν”„λ¥Ό μ„¤μ •ν•©λ‹λ‹¤.
    - [x] `lexorank` crateλ¥Ό μ‚¬μ©ν•μ—¬ μ •λ ¬μ„ μ„ν• `rank` κ°’μ„ κ³„μ‚°ν•©λ‹λ‹¤. (μ΄κΈ° κµ¬ν„μ—μ„λ” λ¶€λ¨μ λ§μ§€λ§‰ μμ‹μΌλ΅ μ¶”κ°€ν•λ” κ°„λ‹¨ν• λ΅μ§μ„ μ‚¬μ©ν•©λ‹λ‹¤.)
    - [x] μƒμ„±λ `Note` λ°μ΄ν„°λ¥Ό κΈ°λ°μΌλ΅, ν„μ¬ Vault κ²½λ΅μ— `{uuid}.md` ν•μ‹μ λ§ν¬λ‹¤μ΄ νμΌμ„ μƒμ„±ν•©λ‹λ‹¤. νμΌμ—λ” YAML Frontmatter(`uuid`, `title`, `rank` λ“±)μ™€ λ³Έλ¬Έ(`content`)μ΄ ν¬ν•¨λμ–΄μ•Ό ν•©λ‹λ‹¤.

- [x] **3. KuzuDB λ…Έλ“ λ° κ΄€κ³„ μƒμ„± λ΅μ§**
    - [x] νμΌ μ €μ¥ ν›„, KuzuDBμ— `Note` λ…Έλ“λ¥Ό μ¶”κ°€ν•λ” `CREATE` μΏΌλ¦¬λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
    - [x] `parent_uuid`κ°€ μΈμλ΅ μ£Όμ–΄μ§„ κ²½μ°, `MATCH` μΏΌλ¦¬λ΅ λ¶€λ¨μ™€ μμ‹ λ…Έλ“λ¥Ό μ°Ύμ•„ `(μμ‹)-[:CHILD_OF]->(λ¶€λ¨)` κ΄€κ³„λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
    - [x] (μ„ νƒμ  μ‹¬ν™”) λ™μΌ λ¶€λ¨λ¥Ό κ°€μ§„ λ‹¤λ¥Έ μμ‹ λ…Έλ“λ“¤μ„ μ°Ύμ•„, `rank` μμ„μ— λ§κ² `:NEXT` κ΄€κ³„λ¥Ό μ„¤μ •ν•κ±°λ‚ μ—…λ°μ΄νΈν•λ” λ΅μ§μ„ μ¶”κ°€ν•©λ‹λ‹¤.

- [x] **4. μ»¤λ§¨λ“ λ°ν™ κ°’ μ²λ¦¬**
    - [x] `create_note` μ»¤λ§¨λ“κ°€ μ„±κ³µμ μΌλ΅ μ™„λ£λλ©΄, μƒμ„±λ `Note` κ°μ²΄ μ „μ²΄(κ³„μ‚°λ `uuid`, `rank`, `created_at` λ“± ν¬ν•¨)λ¥Ό ν”„λ°νΈμ—”λ“μ— λ°ν™ν•λ„λ΅ μ„¤μ •ν•©λ‹λ‹¤.
    - [x] νμΌ μ €μ¥μ΄λ‚ DB μΏΌλ¦¬ λ“± κ° λ‹¨κ³„μ—μ„ λ°μƒν•  μ μλ” μ—λ¬λ¥Ό `Result<Note, String>`μΌλ΅ μ²λ¦¬ν•μ—¬ ν”„λ°νΈμ—”λ“μ— λ…ν™•ν• μ‹¤ν¨ μ›μΈμ„ μ „λ‹¬ν•©λ‹λ‹¤.

- [x] **5. μ¨ν†¨λ΅μ§€ λ¬Έμ„ μ—…λ°μ΄νΈ**
    - [x] `db/commands.rs` λ“± μμ •λ νμΌμ— λ€ν• μ¨ν†¨λ΅μ§€ λ¬Έμ„λ¥Ό μ‘μ„±ν•κ±°λ‚ μ—…λ°μ΄νΈν•©λ‹λ‹¤.

***

# π© **κ³„νμ„μ™€ ν„μ¬ μ½”λ“ κµ¬μ΅°μ μ ν•©μ„± κ²€ν† **

***

## 1. **Tauri μ»¤λ§¨λ“ λ° νμΌ κµ¬μ΅°**

- **κ³„ν:**  
  - `src-tauri/src/db/commands.rs`μ— μ»¤λ§¨λ“ μ •μ
- **μ§€κΈ:**  
  - μ‹¤μ  μ»¤λ§¨λ“/ν•Έλ“¤λ¬ ν•¨μ νμΌ μ„μΉλ” λ‹¬λΌλ„,  
    Tauriμ—μ„ `#[tauri::command]` μ–΄λ…Έν…μ΄μ… ν•¨μλ΅ νΈμ¶ν•  μ μκ² κµ¬μ΅°ν™” κ°€λ¥  
    (`kuzudb/commands.rs` λλ” λ©”μΈ tauri μ»¤λ§¨λ“ λ¨λ“ λ“±)
- **λ¬Έμ  μ—†μ:**  
  - νμΌ μ„μΉ/λ¨λ“λ… λ“±λ§ μ‹¤μ  ν”„μ  κµ¬μ΅° λ§μ¶° μ΅°μ • κ°€λ¥

***

## 2. **λ…ΈνΈ κ°μ²΄ μƒμ„± λ° νμΌ μ €μ¥**

- **κ³„ν:**  
  - `Note` κ°μ²΄λ¥Ό λ§λ“¤κ³ , UUID/timestamp/lexorank μƒμ„±  
  - λ…ΈνΈ λ‚΄μ©μ„ λ§ν¬λ‹¤μ΄(YAML frontmatter+λ³Έλ¬Έ)μΌλ΅ νμΌν™”
- **μ§€κΈ:**  
  - Note λ¨λΈ, Uuid/chrono/lexorank ν™μ© κ°€λ¥  
  - Rust ν‘μ¤€ file IOλ΅ λ§ν¬λ‹¤μ΄ μ €μ¥ μ½”λ“λ¥Ό μ¶”κ°€ν•λ©΄ κ³„νκ³Ό λ™μΌν•κ² κµ¬ν„ κ°€λ¥

***

## 3. **DB λ…Έλ“ λ° κ΄€κ³„ μƒμ„±**

- **κ³„ν:**  
  - λ…ΈνΈ νμΌ μ €μ¥ ν›„, KuzuDBμ— CREATE μΏΌλ¦¬  
  - parent_uuid μμΌλ©΄ ChildOf/NEXT κ΄€κ³„ λ™μ  μƒμ„± μΏΌλ¦¬
- **μ§€κΈ:**  
  - KuzuDBμ— exec_query, insert_note λ“±μΌλ΅ μ‹¤ν„ κ°€λ¥  
  - κ΄€κ³„ μƒμ„± μΏΌλ¦¬(ChildOf, Next)λ„ λ°”λ΅ μ¶”κ°€ κµ¬ν„ κ°€λ¥  
- Tauri μ»¤λ§¨λ“ λλ” λΉ„μ¦λ‹μ¤ λ΅μ§ ν•¨μ λ‚΄λ¶€μ—μ„ κ·Έλ€λ΅ μΏΌλ¦¬ νΈμ¶ν•λ©΄ κµ¬μ΅°μ™€ κΈ°λ¥ μ „λ¶€ λ§μ΅±

***

## 4. **API λ°ν™ λ° μ¤λ¥μ²λ¦¬**

- **κ³„ν:**  
  - μ»¤λ§¨λ“μ—μ„ Note μ „μ²΄(μƒμ„± κ°’ ν¬ν•¨) λ°ν™,  
  - μ—λ¬λ” `Result<Note, String>`μΌλ΅ μ§κ΄€μ  μ „λ‹¬
- **μ§€κΈ:**  
  - Rust Tauri μ»¤λ§¨λ“μ—μ„ κ·Έλ€λ΅ `Result<Note, String>` νƒ€μ… λ°ν™ κµ¬ν„ μ‰¬μ›€  
  - νμΌμ €μ¥/μΏΌλ¦¬/κ΄€κ³„μ‹¤ν¨ λ¨λ‘ String λ³€ν™ν•΄μ„ ν”„λ΅ νΈλ΅ μ§κ΄€μ  μ „μ†΅ κ°€λ¥

***

## 5. **μ¨ν†¨λ΅μ§€ λ¬Έμ„ν™”**

- **κ³„ν:**  
  - νμΌλ³„ λ©μ /μ—­ν•  μ£Όμ„, λ¬Έμ„ν™”
- **μ§€κΈ:**  
  - κ° νμΌ/moduleμ— μ μ ν• docstring/μ£Όμ„/README μ¶”κ°€λ§ ν•λ©΄ λ°”λ΅ μ™„λ£

***

# β΅οΈ **κ²°λ΅ **

- **μ‹¤μ  Data Flow, κµ¬μ΅°, μ¤€λΉ„λ μ½”λ“κ°€ λ¨λ‘ κ³„νμ λ©μ κ³Ό μΌμΉν•κ±°λ‚ λ°”λ΅ ν™•μ¥ κ°€λ¥**  
- **νμΌ/λ¨λ“ μ„μΉλ‚ μ‹¤μ  λ„¤μ΄λ°λ§ μ‚¬μ†ν•κ² λ‹¤λ¥΄κ³ , κΈ°λ¥Β·APIΒ·μ—λ¬μ²λ¦¬Β·λ¦¬ν„΄νƒ€μ… λ“± μ™„μ „ νΈν™**

***

# β… **μ΄μ  κ³§λ°”λ΅ μ§„ν–‰/μ‘μ„± κ°€λ¥ν• μ **

- create_note Tauri μ»¤λ§¨λ“(`#[tauri::command]`) ν•¨μ μ‘μ„±
- Note/νμΌ μ €μ¥, uuid/lexorank μƒμ„±, κ΄€κ³„ μΏΌλ¦¬ λ“± κµ¬ν„
- μ‹¤μ§μ μΌλ΅ λ¨λ“  λ¶€λ¶„μ—μ„ κ³„νκ³Ό μ¤€λΉ„λ μ½”λ“κ°€ μ •ν™•ν λ§λ¬Όλ¦½λ‹λ‹¤.

***

**μ¦‰, μ•½κ°„μ νμΌ μ„μΉ/λ„¤μ΄λ°λ§ λ§μ¶”λ©΄  
λ‹Ήμ¥ Tauri μ»¤λ§¨λ“/Note μƒμ„±/DBΒ·MDνμΌ μ €μ¥/κ΄€κ³„ μΏΌλ¦¬/μ •λ ¬ λ€μ‘μ—  
κ·Όλ³Έμ  λ¬Έμ  μ—†μ΄ λ°”λ΅ μ μ© κ°€λ¥ν•©λ‹λ‹¤!**

μ§„μ§ μ½”λ“ μμ‹λ‚ λ‹¤μ λ‹¨κ³„ λ…λ Ή, μƒμ„Έ κµ¬ν„μ΄ ν•„μ”ν•λ‹¤λ©΄  
κ·Έλ€λ΅ μ•λ‚΄λ“λ¦΄ μ μμµλ‹λ‹¤.  
κµ¬ν„μ— λ§‰νλ” λ¶€λ¶„, λ„¤μ΄λ°/κµ¬μ΅° μµμΆ… κ²°μ • ν•„μ”ν•λ©΄ κµ¬μ²΄μ μΌλ΅ λ§μ”€ν•΄ μ£Όμ„Έμ”!
