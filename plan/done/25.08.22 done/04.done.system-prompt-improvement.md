# 04.done.system-prompt-improvement.md

## `GEMINI.md` 파일 수정

### 1. 명시적 승인 문구 강화

- **변경 내용**: `--plan` 모드의 "계획 제시 및 승인 요청" 항목에 명시적 승인 문구 외의 다른 표현은 승인으로 간주하지 않는다는 내용을 추가하여, 승인 절차의 명확성을 높였습니다.
- **코드 변경**:
  ```markdown
  내가 "승인합니다" 또는 "이대로 진행해줘" 라고 명시적으로 말하기 전까지는 다음 행동을 하지 마. "계속 진행해줘", "알겠습니다" 등 모호한 표현은 승인으로 간주하지 않습니다.
  ```

### 2. 계획 파일 생성 시점 명확화

- **변경 내용**: `--plan` 모드의 "계획 파일 생성" 항목에 계획이 승인되면 **어떠한 작업 실행에 앞서** 계획 파일을 먼저 생성해야 함을 강조하는 내용을 추가하여, 계획 파일 생성 시점을 명확히 했습니다.
- **코드 변경**:
  ```markdown
  계획이 최종 승인되면, **어떠한 작업 실행에 앞서** `@plan/` 폴더 아래에 현재 날짜(`yy.mm.dd`)를 이름으로 하는 폴더를 만들고, 그 안에 `[순번].plan.[workname].md` 형식으로 계획 파일을 저장해야 해. (순번은 해당 날짜 폴더 내에서 파일 생성 시간을 기준으로 부여됩니다.) 파일명은 사용자에게 제안하고 확정받아야 해. 파일 생성이 완료되면 이 모드의 작업은 종료야.
  ```

### 3. 태스크 완료 및 온톨로지 업데이트 시점 명확화

- **변경 내용**: `--execute` 모드의 "태스크 완료 및 온톨로지 업데이트" 항목에 각 태스크 완료 후 **다음 태스크를 시작하기 전에** 해당 작업을 즉시 수행해야 함을 강조하는 내용을 추가하여, 태스크 완료 처리 시점을 명확히 했습니다.
- **코드 변경**:
  ```markdown
  각 태스크 또는 하위 태스크를 성공적으로 완료하고 **검증한 직후**, **다음 태스크를 시작하기 전에** 다음 두 가지 작업을 **즉시** 수행해야 해.
  ```

## `GEMINI.md` 온톨로지 문서 업데이트

- **변경 내용**: `GEMINI.md.md` 파일에 시스템 프롬프트 개선에 대한 변경 이력을 추가했습니다.
- **변경 의도**: 에이전트의 지침 준수율을 높이고 사용자-에이전트 간의 협업 명확성을 강화하기 위한 변경 내용을 온톨로지 문서에 기록하여 변경 맥락을 명확히 합니다.
