### 계획: CodeMirror 기반 마크다운 에디터 (Obsidian 스타일) Svelte 5 마이그레이션

**목표**: 기존 React 기반의 CodeMirror 마크다운 에디터 컴포넌트 및 관련 로직을 Svelte 5 환경으로 마이그레이션하여, Obsidian 스타일의 편집 경험을 Svelte 애플리케이션에서 제공합니다.

- [ ] **1. 마이그레이션 대상 파일 식별 및 준비**
    - [ ] 1.1. **직접 재사용 가능한 파일 복사**: React 전용이 아닌 순수 TypeScript 파일 및 CSS 파일을 Svelte 프로젝트의 적절한 위치로 복사합니다. (예: `src/lib/codemirror/` 또는 `src/lib/editor/`)
        - `livePreview/*` (모든 `.ts` 파일)
        - `parserExtension/*` (모든 `.ts` 파일, `test2.ts` 제외)
        - `vim/*` (모든 `.ts`, `.js`, `.d.ts` 파일)
        - `model/type.d.ts`
        - `typo.css` (구문 오류 수정 후)
    - [ ] 1.2. **Svelte 5 환경 설정 확인**: CodeMirror 관련 라이브러리(`@codemirror/*`, `@lezer/*`)가 `package.json`에 설치되어 있는지 확인하고, 필요한 경우 설치합니다.

- [ ] **2. React 컴포넌트 (.tsx) Svelte 5 (.svelte)로 변환**
    - [x] 2.1. **`Preview.tsx` -> `Preview.svelte` 변환**: 마크다운 텍스트를 HTML로 변환하여 표시하는 미리보기 컴포넌트를 Svelte 5 문법으로 재작성합니다. `marked.js` 사용 및 `{@html}` 디렉티브 활용.
        - **온톨로지 문서화 계획**: `src/lib/editor/Preview.svelte`에 대한 온톨로지 문서를 작성합니다.
    - [x] 2.2. **`Codemirror.tsx` -> `Codemirror.svelte` 변환**: 핵심 CodeMirror 에디터 래퍼 컴포넌트를 Svelte 5 문법으로 재작성합니다. React 훅(`useState`, `useRef`, `useEffect`, `useCallback`)을 Svelte 5 런타임 함수(`$state`, `$effect`, `bind:this`)로 교체하고, CodeMirror 확장들을 통합합니다.
        - **온톨로지 문서화 계획**: `src/lib/editor/Codemirror.svelte`에 대한 온톨로지 문서를 작성합니다.
    - [x] 2.3. **`Workspace.tsx` -> `Workspace.svelte` 변환**: `Codemirror`와 `Preview` 컴포넌트를 조정하고 스크롤 동기화 로직을 관리하는 컴포넌트를 Svelte 5 문법으로 재작성합니다. 스크롤 동기화 로직은 `$effect`와 `bind:this`를 활용하여 구현합니다.
        - **온톨로지 문서화 계획**: `src/lib/editor/Workspace.svelte`에 대한 온톨로지 문서를 작성합니다.

- [ ] **3. React 전용 훅 및 상태 관리 로직 Svelte 5로 변환**
    - [x] 3.1. **`hotkey.ts` 변환**: `useCustomHotkeys` 훅을 Svelte 5 환경에 맞게 수정합니다. Zustand 스토어(`useUiVisibilityStore`)를 Svelte 5 스토어(`$state` 또는 `writable`)로 교체하고, 핫키 로직을 Svelte 반응성 시스템과 통합합니다.
        - **온톨로지 문서화 계획**: `src/lib/editor/hotkey.ts`에 대한 온톨로지 문서를 작성합니다.
    - [x] 3.2. **`hooks/useAutoSave.ts` 변환**: `useAutoSave` 훅을 Svelte 5 환경에 맞게 재작성합니다. React 훅과 Zustand 스토어(`useEditorContentStore`)를 Svelte 5 스토어 및 `$effect` 런타임 함수를 활용한 Svelte 관용적인 패턴으로 대체합니다.
        - **온톨로지 문서화 계획**: `src/lib/editor/useAutoSave.ts`에 대한 온톨로지 문서를 작성합니다.

- [ ] **4. 통합 및 테스트**
    - [x] 4.1. **마이그레이션된 컴포넌트 및 로직 통합**: 변환된 Svelte 컴포넌트와 로직을 애플리케이션에 통합하고, 필요한 경우 상위 컴포넌트(`src/routes/luman/+page.svelte` 등)에서 호출하도록 수정합니다.
    - [x] 4.2. **기능 테스트**: 에디터의 기본 기능(텍스트 입력, 마크다운 렌더링, 핫키, 자동 저장 등)이 올바르게 작동하는지 확인합니다.

- [ ] **5. 온톨로지 문서 업데이트**
    - [ ] 마이그레이션 과정에서 변경되거나 새로 생성된 모든 파일에 대해 온톨로지 문서를 작성하거나 업데이트합니다. (각 태스크별 하위 태스크에 포함됨)

---