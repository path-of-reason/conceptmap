# api.ts

## 핵심 개념 (Core Concept)
프로젝트 전반에 흩어져 있는 모든 상태 관리 API(Section, View, Workspace, Command 등)를 한 곳에 모아 단일 진입점(`API` 객체)으로 제공하는 파일입니다. 이를 통해 다른 모듈에서 상태나 기능에 쉽게 접근할 수 있습니다.

## 설계 원칙 (Design Principle)

`src/lib/store/` 폴더 내의 각 스토어 모듈들은 `API` 객체를 통해 캡슐화되어 외부로 노출됩니다. 이 설계는 다음과 같은 원칙을 따릅니다.

-   **외부 사용**: `src/lib/store/` 폴더 *외부*의 모듈들은 `API` 객체를 통해 스토어의 기능에 접근합니다. 이는 스토어의 내부 구현 세부 사항을 추상화하고, 일관된 인터페이스를 제공합니다.
-   **내부 사용**: `src/lib/store/` 폴더 *내부*의 스토어 모듈들은 서로의 기능이 필요할 경우 `API` 객체를 통하지 않고 해당 모듈을 직접 임포트하여 사용합니다. 이는 순환 참조를 방지하고, 스토어 내부 모듈 간의 응집도를 높입니다.

이러한 분리된 접근 방식은 모듈 간의 불필요한 결합도를 줄이고, 시스템의 모듈성을 향상시키는 데 기여합니다.

## 작성가이드
`document/store-guide.md` 문서를 참고

## 변경 이력 (Change History)
- **2025-08-22**: `CommandHistoryApi`를 `API` 객체에 추가하여 팔레트 명령 히스토리 기능에 대한 외부 접근을 제공. (요청: "팔레트 명령 히스토리 기능 추가")
- **2025-08-20**: AI 코드 온톨로지 시스템 도입에 따라 초기 문서 생성. (요청: "온톨로지 시스템 시범 적용")
- **2025-08-20**: `API` 모듈의 설계 원칙(내부/외부 사용 분리)에 대한 설명을 추가했습니다. (요청: "API 모듈 설계 원칙 명시")
