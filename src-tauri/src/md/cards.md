1. 참조박스
   서지정보와 인용구를 담기위한 박스야. 인용구를 구조적으로 담아내려면 챕터의 제목같은 간단한 카드를 넣고 child로 인용구를 넣으면 될거같아.
   서지카드는 제목, 저자, 출판일, 커버정보, 타입 같은게 들어가. 타입은 논문과 블로그 책을 한눈에 구분할 수 있어야해서 필요한 속성이야.
   챕터 카드는, 인용구들을 그루핑할수 있는 카드야. 아마 대체로 책 전체를 다 읽는게 아니라면 운영할 필요가 없지만, 이 책을 샅샅이 파해칠때는 인용구들을 그룹핑할 수 있는 도구로서 활용될 수 있어. 서지카드의 child로만 등록되고, 내용구성은 없고, 제목만 사용되는 카드야.
   인용카드는 제목(인용문), 내용(인용문을 포함한 맥락정보), 참조정보(서지정보) 로 구성돼. 태그속성이 있어서, 어떤 개념을 포함하고 있는지 표기할 수 있어야해.

2. 메인박스
   저자의 생각을 담는 메인박스야. 책이나 논문을 읽다가 자기참조하여 생산한 문구를 넣는 카드에 적어 넣는 박스야. 이 메인카드는 항상 참조박스의 카드를 참조하는 방식으로 작성돼. 인용구나 서지정보를 주로 참조해서 작성돼. 메인카드 자체를 참조해서 작성하기도 하고. 그래서 메인박스는 항상 하단에 참조정보가 들어가있는 자기만의 생각을 적는 카드야. 구조는 제목, 생각, 참조정보 이렇게 세가지로 구성된다고 볼 수 있어.
3. 인덱스박스
   인덱스들만 모아놓은 박스야.
   인덱스카드는 제목(인덱스들의 맥락, 테마) 내용(서지메모와 메인메모의 정보나 링크를 담고있는 인덱스)으로 구성돼.

그래서, 노트의 타입이 적어도 5개가 필요해.
참조박스(서지카드, 챕터카드, 인용카드)
메인박스(메인카드)
인덱스박스(인덱스카드)

참조박스(3), 메인박스(2), 인덱스박스(1)는 각각의 고유번호가 있어서, 각 박스에 들어갈 카드들은 각 박스의 child라고 봐도돼.
그래서 박스카드라는 형식으로 보면 되지 싶어. 이 박스카드는 제목이 각 박스의 이름이고, 내용도 참조정보도 없는 심플한 노트라고 볼 수 있어. 유일하게 세장만 만들어지는 타입의 카드야.

이걸 kuzu디비의 스키마로 관리해야할거같아.

- 참조박스
  - 서지카드
    - title
    - author
    - published_at
    - cover
    - note_type: bibcard
    - sub_type
      - 책
      - 논문
      - 컬럼
      - 블로그
    - parent
    - first_child
    - prev
    - next
  - hr카드 : 챕터나 파트, 섹션등을 구분할 수 있는 카드
    - title
    - color: 컬러타입. 여러 노트들 사이에서 이정표역할을 담당
      - red - part
      - blue - chapter
    - note_type: hr
    - parent
    - prev
    - next
  - 인용카드
    - title: 한줄, 한문단 인용
    - context: 인용문이 어떤 맥락을 포함하는지
    - tag: 사용개념, 검색
    - reference: 서지정보, 그룹정보(파트, 챕터, 섹션) - 자동등록
    - note_type: quote
    - parent
    - prev
    - next
- 메인박스
  - 메인카드
    - title
    - note_type: maincard
    - sub_type
      - content
      - image
    - create_at
    - update_at
    - content(array): 연속카드기능을 위해, image서브타입일때는 url이나 주소값의 배열을 사용
    - tag(array)
    - reference(array):
      서지, 인용, 메인 카드를 여러장 참조할 수 있으며, 참조한 카드는 순서를 가짐. - 참조정보는 순서를 가지고 셀렉션된 노트들을 기반으로 자동참조.
      드래그 앤 드롭으로 순서 변경 가능
    - parent
    - first_child
    - prev
    - next
- 인덱스박스
  - 인덱스카드
    - title
    - content(array)
    - parent
    - first_child
    - prev
    - next
