# 🟢 루만카스텐 – 현실적 출발(MVP) 프로젝트 기획서 (노트 생성이 첫 출발점)

## 1. 목표 및 핵심 컨셉
- **볼트(폴더) 설정** 후,  
- **최초 노트 작성/저장**을 통해  
- **실시간 파일·DB(관계형/그래프) 구조를 동시에 구축**  
- 모든 앱-DB-파일 플로우가 이 시점부터 출발하도록 설계  
- *노트 존재 전 ingest/import가 아닌*,  
  **“사용자 작성이 앱의 시작”** → 사용자 경험/실제 운영과 정확히 일치

***

## 2. 사용자 플로우(MVP)

1. **앱 실행 → 볼트(폴더) 설정(선택·변경 가능)**
    - 빈 폴더도 허용(초기 상태)
2. **[새 노트 작성]**
    - 제목/내용 입력
    - [저장]시 아래 동작이 동시에 진행됨:
        - a. **마크다운 파일 생성**(YAML meta/UUID 등 포함)
        - b. **DB(그래프/관계형) 저장**(노트/관계/정렬키 등)
    - 즉시 트리/리스트에 신규 노트가 반영됨
3. **트리/리스트/카드뷰에서 구조·내용 확인 가능**
    - 실시간(혹은 수동갱신) 화면에 표시
    - 계층, 번호(displayId), 관계 등 데이터 구조 즉시 제공

***

## 3. 핵심 기능 리스트(MVP 1단계)

### [A] **볼트(폴더) 설정**
- [ ] 사용자는 앱 최초 실행/리셋 시 “작업 폴더(볼트)”를 지정한다.
- [ ] 지정 폴더는 상시 UI에 표시, 언제든 변경(리셋) 가능.
- [ ] 볼트 변경 시 모든 데이터, 파일 동기화 가능.

### [B] **노트 생성/저장**
- [ ] ‘새 노트’ 버튼/액션
- [ ] 제목/본문 입력 → 저장 시:
    - [ ] 지정 볼트 내에 .md 파일 생성(YAML meta: UUID, createdAt 등 포함)
    - [ ] 동일 데이터가 DB에도 즉시 반영(노트 모델, 관계/순서 등)
- [ ] 추가적인 노트도 동일 플로우로 생성

### [C] **트리/리스트/카드뷰 – 실시간 구조뷰어**
- [ ] 생성된 노트 목록(DFS/계층/순서, displayId, 제목)
- [ ] 트리구조/카드 넘기기(진화적으로 추가)
- [ ] 클릭/선택 시 본문/관계 확인

### [D] **동기화**
- [ ] 노트 추가/수정 시 DB–파일이 동시 반영(즉시 or 수동)
- [ ] 외부에서 볼트 폴더 내 마크다운 파일 추가·수정 시에는 수동(imprt 기능 또는 파일감시 기반) ingest로 DB에 반영(후순위 기능)

***

## 4. 단계별 MVP 구현 순서

1. **볼트 설정 UI/로직**
2. **새 노트 작성/저장 → 파일/DB 기록** (동기/비동기 전략)
3. **트리/리스트 뷰 → 초간단 “displayId+타이틀” (계층/순서/DFS 포함)**
4. **카드뷰/중간삽입/관계편집 등은 2차 개선 단계로 분리**
5. **(후행) 외부 import/마이그레이션/백업 기능**

***

## 5. 주요 설계 기준

- **마크다운 파일→DB 증명가능한 일대일 동기화**  
- **노트가 없을 땐 폴더만 있고, 앱은 노트 작성에만 집중**
- **모든 구조/번호/관계는 노트가 한 장 두 장 쌓이면서 점진적으로 자동 구성**
- **모든 데이터(트리, 순서, 관계)는 화면에 실시간 반영**
- **외부 파일 import/sync는 필요 상황에서만 실행(코어플로우x)**

***

## 6. 향후 확장/고급기능 로드맵

- 마크다운 대량 import, 외부폴더 ingest(Obsidian, Logseq 등)
- 고급 트리뷰/카드뷰/검색/Jump/backlink  
- 카드간 관계·넘버링 대규모 구조화
- 앱 내 편집, 외부 에디터 sync, 버전관리, 클라우드(백업/동기화) 등

***

## 7. 요약

- **현실적 Start:** “노트 생성/저장”이 모든 구조화, 동기화, 화면의 시작  
- **최초 ingest/import보다 작성/저장이 본질**
- **모든 구조/인프라/UX는 노트 작성→DB/파일 기록을 중심으로 설계**  
- **향후 외부 import는 부가적(backup, migration, 호환성)**

***

### 필요한 추가 세부(데이터모델, 노트파일 구조, 트리/화면 예시, 저장 동작) 요청하면 더 구체적으로 안내해드립니다!  
이렇게 짠 플로우라면 “진짜 쓰는 순간부터 쌓이고 구조화되는 루만적 사용성”을 완전하게 뒷받침할 수 있습니다.
