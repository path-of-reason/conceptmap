# 3. 단위 요구사항 목록(예시 — 실제 작성체계)

### 📋 주요 기능 블록별 요구사항(Requirement Itemization)

#### A. **폴더–DB 동기화**
1. **마크다운 폴더 지정/관리**
   - [ ] 사용자가 앱 내(혹은 설정파일)에서 마크다운 베이스 폴더 경로를 추가·수정·삭제할 수 있다.
   - [ ] 여러 폴더도 관리할 수 있어야 한다(향후 옵션).

2. **폴더 스캔 및 파일 감시**
   - [ ] 앱 실행 시 폴더 내 모든 `.md` 파일을 읽어들여, 각각의 파일 본문과 YAML metadata를 추출한다.
   - [ ] 파일/폴더 변경(생성/이동/삭제/수정) 발생 시, 자동/주기적으로 변동 내역을 감지해 DB와 동기화한다.
   - [ ] 파일 명명 규칙/식별자는 UUID(가능하면 YAML 메타·파일명 내장)를 우선 사용한다.

3. **DB 싱크/충돌 관리**
   - [ ] 파일→DB 일괄 ingest 및 변경분만 링킹
   - [ ] DB→파일 수동/자동 덤프(저장) 함수 제공
   - [ ] 동기화 중 ‘동일 노트에 외부·내부 동시 변경’ 발견 시 사용자 선택/자동 병합지원

***

#### B. **노트·관계 데이터 모델 및 식별자**
1. **노트 기본 정보**
   - [ ] 고유 UUID(파일/DB 둘 다), 타이틀, 본문, 생성/수정정보(타임스탬프)
   - [ ] YAML frontmatter 기준 메타 값 파싱(태그, 별칭, etc.)  
   - [ ] 노트의 “파일 경로”와 “DB internal id” 양방향 연결

2. **관계/트리·그래프 구조**
   - [ ] :CHILD_OF, :NEXT(NEXT_SIBLING), :PARENT_OF 등 그래프 엣지 관계
   - [ ] 마크다운 내부 [[링크]]·백링크·태그 추출 및 관계DB 엣지 자동 구축
   - [ ] “계층(레벨)” 정보는 트리 traversal시 동적으로 산출, 저장시 부가 정보

3. **루만 넘버링/순서**
   - [ ] 각 노트는 “실제 표시용 넘버(displayId)”(1, 1.1…)을 동적으로 산출(Cached/부분계산)
   - [ ] LexoRank 기반 ‘순서/중간 삽입/이동’ 지원

***

#### C. **앱 UI/UX 구조 및 상호작용**
1. **파일/노트 리스트/트리 뷰**
   - [ ] 폴더별/전체/검색결과 등 노트 리스트, 트리 뷰 제공
   - [ ] 트리 각 노드는 “루만 넘버(id) + 타이틀 + 일부 미리보기” 표시
   - [ ] 각 노트(및 트리 구간)는 expand/collapse, drag&drop, context menu, 노트 jump 등 UX 편의 제공
   - [ ] 루트 분기·서브트리 계층 강조/구분 UI

2. **노트 본문 뷰/편집**
   - [ ] 클릭/더블클릭/키(엔터 등)로 본문 뷰/에디터 진입/종료
   - [ ] 이중 저장: 에디터 내용은 저장 시 파일과 DB 동기화
   - [ ] 외부 링크, 백링크, 태그, 참조 등을 별도 패널/인포 UI로 제공

***

#### D. **관계 편집 및 실시간 구조관리**
1. **노트 생성/이동/삭제/삽입**
   - [ ] 새로운 노트(루트/자식/형제/중간 등) 생성 시 DB-파일 모두 즉시 반영  
   - [ ] 노트 이동/삭제/병합 시 그래프 구조와 파일 모두 실시간/국소 갱신

2. **관계 추가/변경**
   - [ ] GUI/명령팔레트 등에서 Parent/Child, Sibling 관계 쉽고 명확하게 추가/삭제
   - [ ] 관계 변경/구조변경(중간삽입 등)시 관련 구간 부분 넘버링(캐시)만 업데이트

***

#### E. **검색/빠른 탐색/점프**
1. **제목/본문/태그/표시번호(넘버) 등 키워드 검색**
   - [ ] DB 인덱스/캐시 활용, 실시간수준 결과 제공
   - [ ] 검색 결과에서 displayId, 트리/그래프 위치 등 추가정보 함께 노출
   - [ ] 검색결과 클릭→자동 트리/JUMP 위치  
   - [ ] displayId/jump, GUID 검색 등 직접 위치 이동

***

#### F. **동기화/백업/에러관리**
1. **실시간 동기화 상태 UI**
   - [ ] 파일/DB 동기화, 충돌, 백업상태를 GUI 알림/상태창 등으로 제공
2. **자동/수동 백업 및 복원**
   - [ ] 설정/명령 통해 전체 or 선택구간 파일/DB 백업, 자동 시점 백업 옵션
   - [ ] 복원·마이그레이션시 UI 안내/DB↔파일 강제 싱크 지원

***

#### G. **확장성/커스텀/외부 연동**
1. **YAML/커스텀 meta/워크플로**
   - [ ] 확장 meta 정보(YAML 등) 자유롭게 지원
2. **외부 앱·에디터 연계(Git, Obsidian, Logseq 등) 고려**
   - [ ] 파일경로, 메타 추출 기능 모듈화
   - [ ] future: DB/API 플러그인/스크립트 기반 확장성
3. **테마/뷰/프로필**
   - [ ] 라이트/다크 모드 등 스킨, 리스트/카드/트리 등 다양한 뷰 지원
   - [ ] 프로필 사용자별 영구 설정·개인화

***

# 예시: “폴더–DB 싱크 엔진” 단위 요구 예
***
**기능 명:** 폴더–DB 싱크 엔진  
**상세 요구:**
- 폴더/파일 구조를 기준으로, 앱 실행시 모든 .md 파일의 본문과 meta만 읽어서 DB(노트 엔트리)로 즉시 반영한다.
- 기존 DB 내 노트와 비교해, UUID/경로/해시 기준 최신동기화만 시행(중복/유실 없음).
- 외부 파일/앱에서 파일 추가/수정/이동/삭제시, 파일감시(Watch)/주기적 폴링으로 변경 감지, DB에 즉시 반영한다.
- 노트 신규 생성, 구조 변경, 중간삽입 등 모든 DB 작업은 파일에도 즉시(혹은 주기적, 설정에 따라) 반영한다.
- 파일 변환 충돌/에러 발생시, 유저 선택(자동 병합/취소/수동 병합) 옵션 제공한다.
- 동기화 현황/백업 기록은 UI에 언제든 노출된다.

***

이와 같은 **명확한 “실행 단위별 요구”들을 기능별로 체계화**하여  
- 프론트/백엔드 모듈 개발(todo/Bug/Story),  
- QA테스트,  
- UX Flow Mapping  
등으로 바로 전환하여 **실제 개발/배포/운영의 기준**으로 삼습니다.

***

### 필요한 단위기능(예, 노트 CRUD, 관계 추가, 중간삽입 등)이 있다면  
기능별, 액션별, UX별로 더 세분화된 “단위 요구 명세서”도 안내해드릴 수 있습니다.  
특정 기능별로 바로 잘라보고 싶으면 [키워드(ex: “노트 연결”, “마크다운 파싱”, “검색” 등)] 알려주세요!  
**개발· 제품 성장 단계별 구체 요구사항, QA, 식별, 우선순위 부여 예시도 드릴 수 있습니다.**
